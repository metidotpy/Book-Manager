{% extends 'registration/base.html' %}
{% load widget_tweaks %}
{% load crispy_forms_tags %}

{% block title %}Reset Your Password{% endblock %}

{% block title_for_form %}<h1>RESET PASSWORD</h1>{% endblock %}


{% block content %}
    {% if validlink %}
        <div class="row">
            <div class="formDiv col-12" style="transition-delay: 0.2s">
            <p>New Password</p>
            {{ form.new_password1 }}
            </div>
            <div class="formDiv col-12" style="transition-delay: 0.4s">
                <p>New Password Again</p>
                {{ form.new_password2 }}
            </div>
            <div class="formDiv col-12 mt-3" style="transition-delay: 0.6s">
            <button class="acceptBtn btn btn-primary p-4" type="submit">Reset</button>
            </div>
            {% if form.non_field_errors %}
                {% for error in form.non_field_errors %}
                    <div class="alert alert-danger mt-3">
                        <strong>{{ error }}</strong>
                    </div>
                {% endfor %}
            {% endif %}
            {% for field in form %}
                {% for error in field.errors %}
                    <div class="alert alert-danger mt-3">
                        <strong>{{ error }}</strong>
                    </div>
                {% endfor %}
            {% endfor %}
        </div>
    {% else %}
        <div style="margin-top: 20px;">
            <h2>Your Link is Expire</h2>
        <span class="register">Generate a New Password Reset Link From <a href="{% url 'password_reset' %}">Here</a></span>
        </div>
    {% endif %}
{% endblock %}

{% block height %}450px{% endblock %}


